# Phase 2B: 프론트엔드 기능 구현

## ✅ 선행조건 체크리스트

### 필수 사전 준비사항
- [ ] Phase 1B 완료 확인
  - [ ] Next.js 프로젝트 설정 완료
  - [ ] UI 컴포넌트 라이브러리 설정 완료
  - [ ] 상태 관리 설정 완료
  - [ ] 기본 페이지 구조 구현 완료
- [ ] Phase 1A 완료 확인 (API 연동을 위해)
  - [ ] 백엔드 API 엔드포인트 작동 확인
  - [ ] OpenAPI 문서 확인
  - [ ] 인증 플로우 확인

### 의존성 확인
- [ ] **의존성**: Phase 1B 완료 필수, Phase 1A API 스펙 참조 필요
- [ ] **병렬 가능**: Phase 2A와 병렬 개발 가능 (Mock 데이터로 먼저 개발 후 연동)

### 이전 Phase 완료 확인
- [ ] Phase 1B 완료 확인
  - [ ] Next.js 프로젝트 실행 확인
  - [ ] 기본 페이지 접근 확인
  - [ ] Mock 데이터 표시 확인
- [ ] Phase 1A 완료 확인 (API 연동 시)
  - [ ] `/api/auth` 엔드포인트 확인
  - [ ] `/api/price` 엔드포인트 확인
  - [ ] `/api/account` 엔드포인트 확인

### Phase 2A 상태 확인 (선택사항)
- [ ] Phase 2A API 스펙 공유 확인 (완료되면 실제 API 사용 가능)
- [ ] Mock 데이터 준비 (Phase 2A 완료 전)

---

## Phase 개요

**목적**: 실제 API 연동 및 주요 기능 UI 구현

**예상 소요 시간**: 5-7일

**완료 기준**: 
- API 연동 완료
- 대시보드 구현 완료
- 자동매매 설정 UI 구현 완료
- 주문 관리 UI 구현 완료
- 모든 테스트 통과

---

## 작업 내용

### 1. API 연동

#### 1.1 Phase 1A API 실제 호출
**파일**: `frontend/lib/api/auth.ts`

**기능**:
- 로그인 API 호출
- 토큰 저장 및 관리
- 토큰 갱신 로직
- 로그아웃 처리

**파일**: `frontend/lib/api/price.ts`

**기능**:
- 현재가 조회 API 호출
- 호가창 조회 API 호출
- 체결 내역 조회 API 호출

**파일**: `frontend/lib/api/account.ts`

**기능**:
- 계좌 잔고 조회 API 호출
- 보유 종목 조회 API 호출
- 평가손익 조회 API 호출

#### 1.2 인증 플로우 구현
**파일**: `frontend/app/login/page.tsx`

**기능**:
- 로그인 폼 제출
- 인증 토큰 저장
- 인증 상태 관리
- 로그인 후 리다이렉트

**파일**: `frontend/middleware.ts` (또는 `app/layout.tsx`)

**기능**:
- 인증 상태 확인
- 보호된 라우트 접근 제어
- 미인증 시 로그인 페이지로 리다이렉트

#### 1.3 에러 핸들링
**파일**: `frontend/lib/api/error-handler.ts`

**기능**:
- API 에러 처리
- 에러 메시지 표시
- 재시도 로직
- 네트워크 에러 처리

### 2. 대시보드 구현

#### 2.1 포트폴리오 현황 표시
**파일**: `frontend/app/dashboard/page.tsx`

**컴포넌트**:
- `PortfolioSummary` - 포트폴리오 요약 카드
  - 총 자산
  - 평가손익
  - 수익률
- `HoldingsList` - 보유 종목 목록
  - 종목명, 수량, 현재가
  - 평가금액, 평가손익
  - 수익률

#### 2.2 보유 종목 목록
**컴포넌트**: `frontend/components/dashboard/HoldingsList.tsx`

**기능**:
- 보유 종목 테이블
- 정렬 기능
- 필터 기능
- 상세 정보 모달

#### 2.3 수익/손실 표시
**컴포넌트**: `frontend/components/dashboard/ProfitLoss.tsx`

**기능**:
- 일일 수익/손실
- 누적 수익/손실
- 수익률 그래프 (간단한 차트)
- 색상 코딩 (수익: 초록, 손실: 빨강)

### 3. 자동매매 설정 UI

#### 3.1 전략 선택 폼
**컴포넌트**: `frontend/components/trading/StrategySelector.tsx`

**기능**:
- 전략 목록 표시
- 전략 선택 (라디오 버튼 또는 드롭다운)
- 전략 설명 표시
- 전략 파라미터 미리보기

#### 3.2 파라미터 설정 UI
**컴포넌트**: `frontend/components/trading/StrategyConfig.tsx`

**기능**:
- 전략별 파라미터 입력 폼
- 이동평균선 전략: 단기/장기 기간 설정
- RSI 전략: RSI 기간, 과매수/과매도 기준 설정
- 파라미터 유효성 검증
- 파라미터 미리보기

#### 3.3 리스크 관리 설정 UI
**컴포넌트**: `frontend/components/trading/RiskConfig.tsx`

**기능**:
- 손절매 비율 설정
- 익절매 비율 설정
- 포지션 크기 제한 설정
- 일일 손실 한도 설정
- 설정 저장 및 불러오기

### 4. 주문 관리 UI

#### 4.1 주문 내역 테이블
**컴포넌트**: `frontend/components/order/OrderTable.tsx`

**기능**:
- 주문 내역 테이블 표시
- 주문 상태 표시 (대기, 체결, 취소 등)
- 정렬 및 필터 기능
- 페이지네이션

#### 4.2 주문 실행 폼
**컴포넌트**: `frontend/components/order/OrderForm.tsx`

**기능**:
- 수동 주문 실행 폼
- 종목 선택
- 주문 유형 선택 (시장가/지정가)
- 주문 방향 선택 (매수/매도)
- 가격, 수량 입력
- 주문 실행 버튼

#### 4.3 주문 취소/수정 UI
**컴포넌트**: `frontend/components/order/OrderActions.tsx`

**기능**:
- 주문 취소 버튼
- 주문 수정 버튼
- 확인 다이얼로그
- 결과 알림

---

## 테스트 항목

### API 연동 테스트
- [ ] 로그인 API 호출 성공
- [ ] 인증 토큰 저장 확인
- [ ] 현재가 조회 API 호출 성공
- [ ] 계좌 정보 조회 API 호출 성공
- [ ] 에러 핸들링 확인

### 대시보드 테스트
- [ ] 포트폴리오 현황 표시 확인
- [ ] 보유 종목 목록 표시 확인
- [ ] 수익/손실 표시 확인
- [ ] 데이터 새로고침 확인

### 자동매매 설정 UI 테스트
- [ ] 전략 선택 폼 동작 확인
- [ ] 파라미터 설정 UI 동작 확인
- [ ] 리스크 관리 설정 UI 동작 확인
- [ ] 설정 저장/불러오기 확인

### 주문 관리 UI 테스트
- [ ] 주문 내역 테이블 표시 확인
- [ ] 주문 실행 폼 동작 확인
- [ ] 주문 취소/수정 동작 확인
- [ ] 주문 결과 알림 확인

### 통합 테스트
- [ ] 전체 플로우 테스트 (로그인 → 대시보드 → 주문)
- [ ] 에러 시나리오 테스트
- [ ] 반응형 디자인 확인 (모바일)

---

## Mock 데이터에서 실제 API로 전환

Phase 2A 완료 후 Mock 데이터를 실제 API로 전환:

**전환 단계**:
1. Phase 2A API 엔드포인트 확인
2. API 클라이언트 업데이트
3. Mock 데이터 제거
4. 실제 API 호출 테스트
5. 에러 핸들링 확인

---

## 완료 후 다음 단계

이 Phase 완료 후 다음 Phase로 진행:
- **Phase 3B**: 프론트엔드 실시간 UI 개발 시작 가능
- **Phase 2A**: 백엔드 비즈니스 로직과 병렬 개발 중 (완료되면 실제 API 연동)

**다음 Phase 시작 전 확인사항**:
- [ ] Phase 2A 완료 시 실제 API 연동 완료
- [ ] 모든 UI 기능이 정상 작동함
- [ ] 사용자 플로우가 완성됨

---

## 참고 문서
- `PHASE_1B_FRONTEND_CORE.md` - Phase 1B 문서
- `PHASE_1A_BACKEND_CORE.md` - Phase 1A 문서 (API 스펙 참조)
- `PHASE_2A_BACKEND_BUSINESS.md` - Phase 2A 문서 (API 스펙 참조)
- `prd.md` - 제품 요구사항 문서

---

## 변경 이력
- 2026-01-18: 초안 작성
